# Database Configuration
# Neon PostgreSQL connection string
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Anthropic API (for Uniform Recognition feature)
# Required for Claude Vision API to analyze police uniforms, equipment, and insignia.
# Used to identify UK police forces (Met, City of London, BTP), tactical units (TSG, FIT),
# rank insignia (chevrons, pips), and equipment (shields, batons, body cameras).
# Get your key at: https://console.anthropic.com/
# Cost: ~$0.015 per image analysis (Claude claude-sonnet-4-20250514 with vision)
ANTHROPIC_API_KEY=sk-ant-api03-...

# Uniform Analysis Settings
# Controls whether uniform analysis runs automatically during video/image processing.
# When 'true': Every detected officer is automatically analyzed via Claude Vision API.
#              This provides comprehensive data but increases API costs significantly.
# When 'false': Analysis is on-demand only via the /appearances/{id}/analyze endpoint.
#               Recommended for cost control - users manually trigger analysis as needed.
# Default: false (to prevent unexpected API charges)
ENABLE_AUTO_UNIFORM_ANALYSIS=false

# Rate limit for uniform analysis API calls (requests per minute).
# Prevents excessive API usage and helps control costs during batch processing.
# Lower values (5-10): Safer for cost control, slower processing
# Higher values (20-30): Faster processing, higher potential costs
# Note: Claude API has its own rate limits; this is an additional application-level limit.
# Default: 10 (balanced between speed and cost control)
UNIFORM_ANALYSIS_RATE_LIMIT=10

# ============================================
# YouTube Download Settings (cookies.txt)
# ============================================
# For best YouTube download reliability, export browser cookies to backend/cookies.txt
#
# WHY: YouTube blocks automated downloads. Browser cookies prove you're a real user
#      and bypass age restrictions, geo-blocks, and bot detection.
#
# HOW TO EXPORT COOKIES:
# 1. Install browser extension: "Get cookies.txt LOCALLY" (Chrome/Firefox)
# 2. Go to youtube.com and ensure you're logged in
# 3. Click the extension icon and "Export" cookies
# 4. Save as: backend/cookies.txt (Netscape format)
#
# SECURITY NOTE: cookies.txt contains session tokens - keep it private!
# The file is already in .gitignore to prevent accidental commits.
#
# WITHOUT COOKIES: Many videos will fail with "403 Forbidden" errors
# WITH COOKIES: Most public YouTube videos should download successfully
